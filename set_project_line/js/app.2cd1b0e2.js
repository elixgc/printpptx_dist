(function(e){function r(r){for(var o,l,s=r[0],c=r[1],i=r[2],f=0,m=[];f<s.length;f++)l=s[f],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&m.push(n[l][0]),n[l]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(r);while(m.length)m.shift()();return a.push.apply(a,i||[]),t()}function t(){for(var e,r=0;r<a.length;r++){for(var t=a[r],o=!0,s=1;s<t.length;s++){var c=t[s];0!==n[c]&&(o=!1)}o&&(a.splice(r--,1),e=l(l.s=t[0]))}return e}var o={},n={app:0},a=[];function l(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=o,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)l.d(t,o,function(r){return e[r]}.bind(null,o));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=r,s=s.slice();for(var i=0;i<s.length;i++)r(s[i]);var u=c;a.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"56d7":function(e,r,t){"use strict";t.r(r);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("Form")],1)},a=[],l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"box"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1,clearable:""},on:{select:e.handleSelect},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"组织名称"}},[t("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearch_org,placeholder:"请输入内容","trigger-on-focus":!1,clearable:""},on:{select:e.handleSelect_org},model:{value:e.form.org_name,callback:function(r){e.$set(e.form,"org_name",r)},expression:"form.org_name"}})],1),t("el-form-item",{attrs:{label:"员工工号",prop:"memberId"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.memberId,callback:function(r){e.$set(e.form,"memberId",r)},expression:"form.memberId"}})],1),t("el-form-item",{attrs:{label:"条线",prop:"region"}},[t("el-select",{attrs:{placeholder:"请选择条线"},model:{value:e.form.region,callback:function(r){e.$set(e.form,"region",r)},expression:"form.region"}},[t("el-option",{attrs:{label:"生产",value:"生产"}}),t("el-option",{attrs:{label:"技术",value:"技术"}}),t("el-option",{attrs:{label:"安全",value:"安全"}})],1)],1),t("el-form-item",{attrs:{label:"所属产业"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.industrial,callback:function(r){e.$set(e.form,"industrial",r)},expression:"form.industrial"}})],1),t("el-form-item",{attrs:{label:"单位"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.company,callback:function(r){e.$set(e.form,"company",r)},expression:"form.company"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("录入")]),t("el-button",{on:{click:e.resetForm}},[e._v("清空")])],1)],1)],1)},s=[],c=(t("d81d"),t("b0c0"),t("d3b7"),t("5976")),i=t.n(c),u=t("5c96"),f=t.n(u);i.a.defaults.baseURL="https://ssp.zhongnangroup.cn/";var m=i.a.create({timeout:3e4});m.interceptors.request.use((function(e){return localStorage.tsToken&&(e.headers.Authorization=localStorage.tsToken),e}),(function(e){Promise.reject(e)})),m.interceptors.request.use((function(e){return localStorage.getItem("user-token")&&(e.headers["token"]=localStorage.getItem("user-token")),e})),m.interceptors.response.use((function(e){return e}),(function(e){var r="";if(e&&e.response.status)switch(e.response.status){case 401:r="登录状态失效，请重新登录";break;case 403:r="拒绝访问";break;case 408:r="请求超时";break;case 500:r="服务器内部错误";break;case 501:r="服务未实现";break;case 502:r="网关错误";break;case 503:r="服务不可用";break;case 504:r="网关超时";break;case 505:r="HTTP版本不受支持";break;default:r=e.response.data.msg;break}else r=e;return u["Message"].error(r),Promise.reject(r)}));var p=m,d={name:"Form",data:function(){return{form:{name:"",projectId:"",org_name:"",pk_org:"",memberId:"",region:"",industrial:"",company:""},rules:{memberId:[{required:!0,message:"请输入工号",trigger:"blur"}],region:[{required:!0,message:"请选择条线",trigger:"change"}]}}},methods:{onSubmit:function(){var e=this,r=this.$refs["form"];r.validate((function(r){if(!r)return console.log("error submit!!"),!1;p.post("/api/temporary/tiaoxian/save",{project_name:e.form.name,project_id:e.form.projectId,org_name:e.form.org_name,pk_org:e.form.pk_org,staffcode:e.form.memberId,type:e.form.region,industrial:e.form.industrial,company:e.form.company}).then((function(r){console.log(r.data);var t=r.data.code;0==t&&(e.$message("录入成功"),e.resetForm())}))}))},resetForm:function(){this.$refs["form"].resetFields()},querySearch:function(e,r){this.form.projectId="",p.get("/api/temporary/project/search",{params:{keyword:e}}).then((function(e){var t=e.data;if(0==t.code){var o=t.data.map((function(e){return e.value="".concat(e.name),e}));console.info(o),r(o)}}))},handleSelect:function(e){console.log(e),this.form.name=e.name,this.form.projectId=e.id},querySearch_org:function(e,r){this.form.pk_org="",p.get("/api/temporary/depart/search",{params:{keyword:e}}).then((function(e){var t=e.data;if(0==t.code){var o=t.data.map((function(e){return e.value="".concat(e.name),e}));console.info(o),r(o)}}))},handleSelect_org:function(e){console.log(e),this.form.org_name=e.name,this.form.pk_org=e.pk_org}}},b=d,g=(t("b0a8"),t("2877")),h=Object(g["a"])(b,l,s,!1,null,"bdff7496",null),v=h.exports,y={name:"app",components:{Form:v}},k=y,_=Object(g["a"])(k,n,a,!1,null,null,null),j=_.exports;t("0fae");o["default"].use(f.a);t("b059");o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(j)}}).$mount("#app")},b059:function(e,r,t){},b0a8:function(e,r,t){"use strict";var o=t("cc5b"),n=t.n(o);n.a},cc5b:function(e,r,t){}});
//# sourceMappingURL=app.2cd1b0e2.js.map